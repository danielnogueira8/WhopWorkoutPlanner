{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-context.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WhopContext = registerClientReference(\n    function() { throw new Error(\"Attempted to call WhopContext() from the server but WhopContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-context.tsx <module evaluation>\",\n    \"WhopContext\",\n);\nexport const useWhop = registerClientReference(\n    function() { throw new Error(\"Attempted to call useWhop() from the server but useWhop is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-context.tsx <module evaluation>\",\n    \"useWhop\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,oTAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,iHACA;AAEG,MAAM,UAAU,IAAA,oTAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,iHACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-context.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WhopContext = registerClientReference(\n    function() { throw new Error(\"Attempted to call WhopContext() from the server but WhopContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-context.tsx\",\n    \"WhopContext\",\n);\nexport const useWhop = registerClientReference(\n    function() { throw new Error(\"Attempted to call useWhop() from the server but useWhop is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-context.tsx\",\n    \"useWhop\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,oTAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,6FACA;AAEG,MAAM,UAAU,IAAA,oTAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,6FACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-provider.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WhopProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call WhopProvider() from the server but WhopProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-provider.tsx <module evaluation>\",\n    \"WhopProvider\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,oTAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,kHACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-provider.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WhopProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call WhopProvider() from the server but WhopProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-provider.tsx\",\n    \"WhopProvider\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,oTAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,8FACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/components/whop-context/index.ts"],"sourcesContent":["export * from './whop-context'\nexport * from './whop-provider'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/env.ts"],"sourcesContent":["import { vercel } from '@t3-oss/env-core/presets-zod'\nimport { createEnv } from '@t3-oss/env-nextjs'\nimport z from 'zod'\n\nexport const env = createEnv({\n\tserver: {\n\t\tWHOP_API_KEY: z.string(),\n\n\t\t// Whop Payments\n\t\tONE_TIME_PURCHASE_ACCESS_PASS_PLAN_ID: z.string(),\n\t\tONE_TIME_PURCHASE_ACCESS_PASS_ID: z.string(),\n\t\tSUBSCRIPTION_PURCHASE_ACCESS_PASS_PLAN_ID: z.string(),\n\t\tSUBSCRIPTION_PURCHASE_ACCESS_PASS_ID: z.string(),\n\t},\n\tclient: {\n\t\tNEXT_PUBLIC_WHOP_APP_ID: z.string(),\n\t\tNEXT_PUBLIC_WHOP_AGENT_USER_ID: z.string(),\n\t\tNEXT_PUBLIC_WHOP_COMPANY_ID: z.string(),\n\t\tNEXT_PUBLIC_VERCEL_URL: z.string().default('http://localhost:3000'),\n\t},\n\truntimeEnv: {\n\t\t// Server\n\t\tWHOP_API_KEY: process.env.WHOP_API_KEY,\n\t\tONE_TIME_PURCHASE_ACCESS_PASS_PLAN_ID: process.env.ONE_TIME_PURCHASE_ACCESS_PASS_PLAN_ID,\n\t\tONE_TIME_PURCHASE_ACCESS_PASS_ID: process.env.ONE_TIME_PURCHASE_ACCESS_PASS_ID,\n\t\tSUBSCRIPTION_PURCHASE_ACCESS_PASS_PLAN_ID:\n\t\t\tprocess.env.SUBSCRIPTION_PURCHASE_ACCESS_PASS_PLAN_ID,\n\t\tSUBSCRIPTION_PURCHASE_ACCESS_PASS_ID: process.env.SUBSCRIPTION_PURCHASE_ACCESS_PASS_ID,\n\n\t\t// Client\n\t\tNEXT_PUBLIC_WHOP_APP_ID: process.env.NEXT_PUBLIC_WHOP_APP_ID,\n\t\tNEXT_PUBLIC_WHOP_AGENT_USER_ID: process.env.NEXT_PUBLIC_WHOP_AGENT_USER_ID,\n\t\tNEXT_PUBLIC_WHOP_COMPANY_ID: process.env.NEXT_PUBLIC_WHOP_COMPANY_ID,\n\t\tNEXT_PUBLIC_VERCEL_URL: process.env.NEXT_PUBLIC_VERCEL_URL,\n\t},\n\textends: [vercel()],\n})\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,MAAM,MAAM,IAAA,sNAAS,EAAC;IAC5B,QAAQ;QACP,cAAc,mMAAC,CAAC,MAAM;QAEtB,gBAAgB;QAChB,uCAAuC,mMAAC,CAAC,MAAM;QAC/C,kCAAkC,mMAAC,CAAC,MAAM;QAC1C,2CAA2C,mMAAC,CAAC,MAAM;QACnD,sCAAsC,mMAAC,CAAC,MAAM;IAC/C;IACA,QAAQ;QACP,yBAAyB,mMAAC,CAAC,MAAM;QACjC,gCAAgC,mMAAC,CAAC,MAAM;QACxC,6BAA6B,mMAAC,CAAC,MAAM;QACrC,wBAAwB,mMAAC,CAAC,MAAM,GAAG,OAAO,CAAC;IAC5C;IACA,YAAY;QACX,SAAS;QACT,cAAc,QAAQ,GAAG,CAAC,YAAY;QACtC,uCAAuC,QAAQ,GAAG,CAAC,qCAAqC;QACxF,kCAAkC,QAAQ,GAAG,CAAC,gCAAgC;QAC9E,2CACC,QAAQ,GAAG,CAAC,yCAAyC;QACtD,sCAAsC,QAAQ,GAAG,CAAC,oCAAoC;QAEtF,SAAS;QACT,uBAAuB;QACvB,8BAA8B;QAC9B,2BAA2B;QAC3B,wBAAwB,QAAQ,GAAG,CAAC,sBAAsB;IAC3D;IACA,SAAS;QAAC,IAAA,0NAAM;KAAG;AACpB","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/components/whop-context/whop-queries.ts"],"sourcesContent":["import { defaultShouldDehydrateQuery, QueryClient } from '@tanstack/react-query'\nimport { env } from '~/env'\nimport type { WhopAccess, WhopExperience, WhopUser } from '~/lib/whop'\n\nexport const serverQueryClient = new QueryClient({\n\tdefaultOptions: {\n\t\tqueries: {\n\t\t\tstaleTime: 60 * 1000, // 1 minute\n\t\t\tretry: 1,\n\t\t},\n\t\tdehydrate: {\n\t\t\tshouldDehydrateQuery: (query) =>\n\t\t\t\tdefaultShouldDehydrateQuery(query) || query.state.status === 'pending',\n\t\t},\n\t},\n})\n\nexport function getApiUrl(path: string): string {\n\tif (typeof window === 'undefined') {\n\t\treturn `${env.NEXT_PUBLIC_VERCEL_URL}${path}`\n\t}\n\treturn path\n}\n\nexport const whopExperienceQuery = (experienceId: string) => ({\n\tqueryKey: ['experience', experienceId],\n\tqueryFn: async () => {\n\t\tconst response = await fetch(getApiUrl(`/api/experience/${experienceId}`))\n\t\tif (!response.ok) throw new Error('Failed to fetch whop experience')\n\t\tconst result = (await response.json()) as WhopExperience\n\t\treturn result\n\t},\n})\n\nexport const whopUserQuery = (experienceId: string) => ({\n\tqueryKey: ['user', experienceId],\n\tqueryFn: async () => {\n\t\tconst response = await fetch(getApiUrl(`/api/experience/${experienceId}/user`))\n\t\tif (!response.ok) throw new Error('Failed to fetch whop user')\n\t\treturn response.json() as Promise<{ user: WhopUser; access: WhopAccess }>\n\t},\n})\n\nexport const receiptsQuery = () => ({\n\tqueryKey: ['receipts'],\n\tqueryFn: async () => {\n\t\tconst response = await fetch(getApiUrl('/api/receipts'))\n\t\tif (!response.ok) throw new Error('Failed to fetch receipts')\n\t\treturn response.json() as Promise<{\n\t\t\taccessPasses: Array<{\n\t\t\t\tid: string\n\t\t\t\ttype: 'one-time' | 'subscription'\n\t\t\t\treceipts: Array<{\n\t\t\t\t\tamountPaid: number\n\t\t\t\t\tpaidAt: string\n\t\t\t\t\tsubscriptionStatus?: string | null\n\t\t\t\t\tmembershipId?: string | null\n\t\t\t\t\tmember?: {\n\t\t\t\t\t\tid: string\n\t\t\t\t\t} | null\n\t\t\t\t}>\n\t\t\t}>\n\t\t}>\n\t},\n})\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AACA;;;AAGO,MAAM,oBAAoB,IAAI,wOAAW,CAAC;IAChD,gBAAgB;QACf,SAAS;YACR,WAAW,KAAK;YAChB,OAAO;QACR;QACA,WAAW;YACV,sBAAsB,CAAC,QACtB,IAAA,sPAA2B,EAAC,UAAU,MAAM,KAAK,CAAC,MAAM,KAAK;QAC/D;IACD;AACD;AAEO,SAAS,UAAU,IAAY;IACrC,wCAAmC;QAClC,OAAO,GAAG,6JAAG,CAAC,sBAAsB,GAAG,MAAM;IAC9C;;;AAED;AAEO,MAAM,sBAAsB,CAAC,eAAyB,CAAC;QAC7D,UAAU;YAAC;YAAc;SAAa;QACtC,SAAS;YACR,MAAM,WAAW,MAAM,MAAM,UAAU,CAAC,gBAAgB,EAAE,cAAc;YACxE,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;YAClC,MAAM,SAAU,MAAM,SAAS,IAAI;YACnC,OAAO;QACR;IACD,CAAC;AAEM,MAAM,gBAAgB,CAAC,eAAyB,CAAC;QACvD,UAAU;YAAC;YAAQ;SAAa;QAChC,SAAS;YACR,MAAM,WAAW,MAAM,MAAM,UAAU,CAAC,gBAAgB,EAAE,aAAa,KAAK,CAAC;YAC7E,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;YAClC,OAAO,SAAS,IAAI;QACrB;IACD,CAAC;AAEM,MAAM,gBAAgB,IAAM,CAAC;QACnC,UAAU;YAAC;SAAW;QACtB,SAAS;YACR,MAAM,WAAW,MAAM,MAAM,UAAU;YACvC,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;YAClC,OAAO,SAAS,IAAI;QAerB;IACD,CAAC","debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/app/experiences/%5BexperienceId%5D/layout.tsx"],"sourcesContent":["import { dehydrate } from \"@tanstack/react-query\";\nimport { WhopIframeSdkProvider } from \"@whop/react\";\nimport { WhopProvider } from \"~/components/whop-context\";\nimport {\n  serverQueryClient,\n  whopExperienceQuery,\n  whopUserQuery,\n} from \"~/components/whop-context/whop-queries\";\n\nexport const experimental_ppr = true;\n\nexport default async function ExperienceLayout({\n  children,\n  params,\n}: LayoutProps<\"/experience/[experienceId]\">) {\n  const { experienceId } = await params;\n\n  serverQueryClient.prefetchQuery(whopExperienceQuery(experienceId));\n  serverQueryClient.prefetchQuery(whopUserQuery(experienceId));\n\n  return (\n    <WhopIframeSdkProvider>\n      <WhopProvider\n        state={dehydrate(serverQueryClient)}\n        experienceId={experienceId}\n      >\n        {children}\n      </WhopProvider>\n    </WhopIframeSdkProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;;AAMO,MAAM,mBAAmB;AAEjB,eAAe,iBAAiB,EAC7C,QAAQ,EACR,MAAM,EACoC;IAC1C,MAAM,EAAE,YAAY,EAAE,GAAG,MAAM;IAE/B,wNAAiB,CAAC,aAAa,CAAC,IAAA,0NAAmB,EAAC;IACpD,wNAAiB,CAAC,aAAa,CAAC,IAAA,oNAAa,EAAC;IAE9C,qBACE,0RAAC,sNAAqB;kBACpB,cAAA,0RAAC,yMAAY;YACX,OAAO,IAAA,oOAAS,EAAC,wNAAiB;YAClC,cAAc;sBAEb;;;;;;;;;;;AAIT","debugId":null}}]
}