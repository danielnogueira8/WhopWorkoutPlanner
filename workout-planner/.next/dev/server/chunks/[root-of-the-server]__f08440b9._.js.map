{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/env.ts"],"sourcesContent":["import { vercel } from '@t3-oss/env-core/presets-zod'\nimport { createEnv } from '@t3-oss/env-nextjs'\nimport z from 'zod'\n\nexport const env = createEnv({\n\tserver: {\n\t\tWHOP_API_KEY: z.string(),\n\n\t\t// Whop Payments\n\t\tONE_TIME_PURCHASE_ACCESS_PASS_PLAN_ID: z.string(),\n\t\tONE_TIME_PURCHASE_ACCESS_PASS_ID: z.string(),\n\t\tSUBSCRIPTION_PURCHASE_ACCESS_PASS_PLAN_ID: z.string(),\n\t\tSUBSCRIPTION_PURCHASE_ACCESS_PASS_ID: z.string(),\n\t},\n\tclient: {\n\t\tNEXT_PUBLIC_WHOP_APP_ID: z.string(),\n\t\tNEXT_PUBLIC_WHOP_AGENT_USER_ID: z.string(),\n\t\tNEXT_PUBLIC_WHOP_COMPANY_ID: z.string(),\n\t\tNEXT_PUBLIC_VERCEL_URL: z.string().default('http://localhost:3000'),\n\t},\n\truntimeEnv: {\n\t\t// Server\n\t\tWHOP_API_KEY: process.env.WHOP_API_KEY,\n\t\tONE_TIME_PURCHASE_ACCESS_PASS_PLAN_ID: process.env.ONE_TIME_PURCHASE_ACCESS_PASS_PLAN_ID,\n\t\tONE_TIME_PURCHASE_ACCESS_PASS_ID: process.env.ONE_TIME_PURCHASE_ACCESS_PASS_ID,\n\t\tSUBSCRIPTION_PURCHASE_ACCESS_PASS_PLAN_ID:\n\t\t\tprocess.env.SUBSCRIPTION_PURCHASE_ACCESS_PASS_PLAN_ID,\n\t\tSUBSCRIPTION_PURCHASE_ACCESS_PASS_ID: process.env.SUBSCRIPTION_PURCHASE_ACCESS_PASS_ID,\n\n\t\t// Client\n\t\tNEXT_PUBLIC_WHOP_APP_ID: process.env.NEXT_PUBLIC_WHOP_APP_ID,\n\t\tNEXT_PUBLIC_WHOP_AGENT_USER_ID: process.env.NEXT_PUBLIC_WHOP_AGENT_USER_ID,\n\t\tNEXT_PUBLIC_WHOP_COMPANY_ID: process.env.NEXT_PUBLIC_WHOP_COMPANY_ID,\n\t\tNEXT_PUBLIC_VERCEL_URL: process.env.NEXT_PUBLIC_VERCEL_URL,\n\t},\n\textends: [vercel()],\n})\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,MAAM,MAAM,IAAA,wNAAS,EAAC;IAC5B,QAAQ;QACP,cAAc,qMAAC,CAAC,MAAM;QAEtB,gBAAgB;QAChB,uCAAuC,qMAAC,CAAC,MAAM;QAC/C,kCAAkC,qMAAC,CAAC,MAAM;QAC1C,2CAA2C,qMAAC,CAAC,MAAM;QACnD,sCAAsC,qMAAC,CAAC,MAAM;IAC/C;IACA,QAAQ;QACP,yBAAyB,qMAAC,CAAC,MAAM;QACjC,gCAAgC,qMAAC,CAAC,MAAM;QACxC,6BAA6B,qMAAC,CAAC,MAAM;QACrC,wBAAwB,qMAAC,CAAC,MAAM,GAAG,OAAO,CAAC;IAC5C;IACA,YAAY;QACX,SAAS;QACT,cAAc,QAAQ,GAAG,CAAC,YAAY;QACtC,uCAAuC,QAAQ,GAAG,CAAC,qCAAqC;QACxF,kCAAkC,QAAQ,GAAG,CAAC,gCAAgC;QAC9E,2CACC,QAAQ,GAAG,CAAC,yCAAyC;QACtD,sCAAsC,QAAQ,GAAG,CAAC,oCAAoC;QAEtF,SAAS;QACT,uBAAuB;QACvB,8BAA8B;QAC9B,2BAA2B;QAC3B,wBAAwB,QAAQ,GAAG,CAAC,sBAAsB;IAC3D;IACA,SAAS;QAAC,IAAA,4NAAM;KAAG;AACpB","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/lib/whop.ts"],"sourcesContent":["import {\n\ttype CheckIfUserHasAccessToExperienceQuery,\n\ttype GetExperienceQuery,\n\ttype GetUserQuery,\n\tWhopServerSdk,\n} from '@whop/api'\nimport { env } from '~/env'\n\n// Type exports from Whop API queries\nexport type WhopExperience = GetExperienceQuery['experience']\nexport type WhopUser = GetUserQuery['publicUser']\nexport type WhopAccess = CheckIfUserHasAccessToExperienceQuery['hasAccessToExperience']\n\n// Initialize WhopServerSdk with app configuration\nexport const whop = WhopServerSdk({\n\tappId: env.NEXT_PUBLIC_WHOP_APP_ID,\n\tappApiKey: env.WHOP_API_KEY,\n\tonBehalfOfUserId: env.NEXT_PUBLIC_WHOP_AGENT_USER_ID,\n\tcompanyId: env.NEXT_PUBLIC_WHOP_COMPANY_ID,\n})\n\n// Note: For authentication in API routes, import verifyUserToken separately:\n// import { verifyUserToken } from '@whop/api'\n// const { userId } = await verifyUserToken(req.headers)\n\n// This is for the new @whop/sdk package\n// For the time being it has some missing features and is not recommended to use\n// Oct 21, 2025\n// import Whop from '@whop/sdk'\n// export const whopClient = new Whop({\n// \tappID: env.WHOP_API_KEY,\n// \tapiKey: env.WHOP_API_KEY,\n// })\n"],"names":[],"mappings":";;;;AAAA;AAMA;;;AAQO,MAAM,OAAO,IAAA,sOAAa,EAAC;IACjC,OAAO,+JAAG,CAAC,uBAAuB;IAClC,WAAW,+JAAG,CAAC,YAAY;IAC3B,kBAAkB,+JAAG,CAAC,8BAA8B;IACpD,WAAW,+JAAG,CAAC,2BAA2B;AAC3C,GAEA,6EAA6E;CAC7E,8CAA8C;CAC9C,wDAAwD;CAExD,wCAAwC;CACxC,gFAAgF;CAChF,eAAe;CACf,+BAA+B;CAC/B,uCAAuC;CACvC,4BAA4B;CAC5B,6BAA6B;CAC7B,KAAK","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielnogueira/whopWorkoutPlanner/workout-planner/src/app/%28whop-api%29/api/experience/%5BexperienceId%5D/users/route.ts"],"sourcesContent":["import { verifyUserToken } from '@whop/api'\nimport { NextRequest, NextResponse } from 'next/server'\nimport { env } from '~/env'\nimport { whop } from '~/lib/whop'\n\nexport async function GET(\n\treq: NextRequest,\n\t{ params }: { params: Promise<{ experienceId: string }> },\n) {\n\tconst { experienceId } = await params\n\tif (!experienceId) return NextResponse.json({ error: 'Missing params' }, { status: 400 })\n\n\tconst { userId } = await verifyUserToken(req.headers)\n\tif (!userId) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n\n\ttry {\n\t\t// Ensure requester has access and is owner (admin-only endpoint for now)\n\t\tconst access = await whop.access.checkIfUserHasAccessToExperience({ experienceId, userId })\n\t\tif (\n\t\t\t!access ||\n\t\t\t!((access as any).accessLevel === 'owner' || (access as any).accessLevel === 'admin')\n\t\t)\n\t\t\treturn NextResponse.json({ error: 'Forbidden' }, { status: 403 })\n\n\t\tconst { searchParams } = new URL(req.url)\n\t\tconst q = searchParams.get('q')?.trim()\n\n\t\tconst members = await whop.companies.listMembers({\n\t\t\tcompanyId: env.NEXT_PUBLIC_WHOP_COMPANY_ID,\n\t\t\tfilters: q ? { query: q } : undefined,\n\t\t})\n\n\t\tconst nodes = members?.members?.nodes ?? []\n\t\tconst result = nodes\n\t\t\t.filter((m: any) => !!m?.user)\n\t\t\t.map((m: any) => ({\n\t\t\t\tid: m.user.id as string,\n\t\t\t\tusername: (m.user.username ?? '') as string,\n\t\t\t\tname: (m.user.name ?? '') as string,\n\t\t\t}))\n\n\t\treturn NextResponse.json(result)\n\t} catch (error) {\n\t\tconsole.error('Failed to list users:', error)\n\t\treturn NextResponse.json({ error: 'Failed to fetch' }, { status: 500 })\n\t}\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe,IACrB,GAAgB,EAChB,EAAE,MAAM,EAAiD;IAEzD,MAAM,EAAE,YAAY,EAAE,GAAG,MAAM;IAC/B,IAAI,CAAC,cAAc,OAAO,4LAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAiB,GAAG;QAAE,QAAQ;IAAI;IAEvF,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,4NAAe,EAAC,IAAI,OAAO;IACpD,IAAI,CAAC,QAAQ,OAAO,4LAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAe,GAAG;QAAE,QAAQ;IAAI;IAE/E,IAAI;QACH,yEAAyE;QACzE,MAAM,SAAS,MAAM,wKAAI,CAAC,MAAM,CAAC,gCAAgC,CAAC;YAAE;YAAc;QAAO;QACzF,IACC,CAAC,UACD,CAAC,CAAC,AAAC,OAAe,WAAW,KAAK,WAAW,AAAC,OAAe,WAAW,KAAK,OAAO,GAEpF,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAY,GAAG;YAAE,QAAQ;QAAI;QAEhE,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;QACxC,MAAM,IAAI,aAAa,GAAG,CAAC,MAAM;QAEjC,MAAM,UAAU,MAAM,wKAAI,CAAC,SAAS,CAAC,WAAW,CAAC;YAChD,WAAW,+JAAG,CAAC,2BAA2B;YAC1C,SAAS,IAAI;gBAAE,OAAO;YAAE,IAAI;QAC7B;QAEA,MAAM,QAAQ,SAAS,SAAS,SAAS,EAAE;QAC3C,MAAM,SAAS,MACb,MAAM,CAAC,CAAC,IAAW,CAAC,CAAC,GAAG,MACxB,GAAG,CAAC,CAAC,IAAW,CAAC;gBACjB,IAAI,EAAE,IAAI,CAAC,EAAE;gBACb,UAAW,EAAE,IAAI,CAAC,QAAQ,IAAI;gBAC9B,MAAO,EAAE,IAAI,CAAC,IAAI,IAAI;YACvB,CAAC;QAEF,OAAO,4LAAY,CAAC,IAAI,CAAC;IAC1B,EAAE,OAAO,OAAO;QACf,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAkB,GAAG;YAAE,QAAQ;QAAI;IACtE;AACD","debugId":null}}]
}